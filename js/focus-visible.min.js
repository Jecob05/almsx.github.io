!function (e, t) {
  "object" == typeof exports && "undefined" != typeof module ? t() : "function" == typeof define && define.amd ? define(t) : t();
}(0, function () {
  "use strict";
  function e(e) {
    var t = true, n = false, o = null, d = {text: true, search: true, url: true, tel: true, email: true, password: true, number: true, date: true, month: true, week: true, time: true, datetime: true, "datetime-local": true};
    function s(e) {
      e.classList.contains("focus-visible") || (e.classList.add("focus-visible"), e.setAttribute("data-focus-visible-added", ""));
    }
    function u(e) {
      t = false;
    }
    function a() {
      document.addEventListener("mousemove", c), document.addEventListener("mousedown", c), document.addEventListener("mouseup", c), document.addEventListener("pointermove", c), document.addEventListener("pointerdown", c), document.addEventListener("pointerup", c), document.addEventListener("touchmove", c), document.addEventListener("touchstart", c), document.addEventListener("touchend", c);
    }
    function c(e) {
      e.target.nodeName && "html" === e.target.nodeName.toLowerCase() || (t = false, document.removeEventListener("mousemove", c), document.removeEventListener("mousedown", c), document.removeEventListener("mouseup", c), document.removeEventListener("pointermove", c), document.removeEventListener("pointerdown", c), document.removeEventListener("pointerup", c), document.removeEventListener("touchmove", c), document.removeEventListener("touchstart", c), document.removeEventListener("touchend", c));
    }
    document.addEventListener("keydown", function (n) {
      n.metaKey || n.altKey || n.ctrlKey || (!!(e.activeElement && e.activeElement !== document && "HTML" !== e.activeElement.nodeName && "BODY" !== e.activeElement.nodeName && "classList" in e.activeElement && "contains" in e.activeElement.classList) && s(e.activeElement), t = true);
    }, true), document.addEventListener("mousedown", u, true), document.addEventListener("pointerdown", u, true), document.addEventListener("touchstart", u, true), document.addEventListener("visibilitychange", function (e) {
      "hidden" === document.visibilityState && (n && (t = true), a());
    }, true), a(), e.addEventListener("focus", function (e) {
      var n, o, u;
      !!(e.target && e.target !== document && "HTML" !== e.target.nodeName && "BODY" !== e.target.nodeName && "classList" in e.target && "contains" in e.target.classList) && (t || (n = e.target, o = n.type, "INPUT" === (u = n.tagName) && d[o] && !n.readOnly || "TEXTAREA" === u && !n.readOnly || n.isContentEditable)) && s(e.target);
    }, true), e.addEventListener("blur", function (e) {
      var t;
      !!(e.target && e.target !== document && "HTML" !== e.target.nodeName && "BODY" !== e.target.nodeName && "classList" in e.target && "contains" in e.target.classList) && (e.target.classList.contains("focus-visible") || e.target.hasAttribute("data-focus-visible-added")) && (n = true, window.clearTimeout(o), o = window.setTimeout(function () {
        n = false;
      }, 100), (t = e.target).hasAttribute("data-focus-visible-added") && (t.classList.remove("focus-visible"), t.removeAttribute("data-focus-visible-added")));
    }, true), e.nodeType === Node.DOCUMENT_FRAGMENT_NODE && e.host ? e.host.setAttribute("data-js-focus-visible", "") : e.nodeType === Node.DOCUMENT_NODE && (document.documentElement.classList.add("js-focus-visible"), document.documentElement.setAttribute("data-js-focus-visible", ""));
  }
  if ("undefined" != typeof window && "undefined" != typeof document) {
    var t;
    window.applyFocusVisiblePolyfill = e;
    try {
      t = new CustomEvent("focus-visible-polyfill-ready");
    } catch (e) {
      (t = document.createEvent("CustomEvent")).initCustomEvent("focus-visible-polyfill-ready", false, false, {});
    }
    window.dispatchEvent(t);
  }
  "undefined" != typeof document && e(document);
});
